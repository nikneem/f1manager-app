parameters:
  ProjectPath: ""
  ArtifactName: "FrontEndProject"

steps:
  - task: NodeTool@0
    displayName: 'Install Node.js'
    inputs:
      versionSpec: '12.x'

  - script: npm install -g @angular/cli
    displayName: 'Install Angular CLI'

  - script: npm install
    workingDirectory: '$(Build.SourcesDirectory)/src'
    displayName: 'Install packages'

  - script: ng build --prod --output-path 'AngularProject'
    workingDirectory: '$(Build.SourcesDirectory)/src'
    displayName: 'Build Angular Project'
      
      

  - task: CopyFiles@2
    displayName: 'Copy to artifact staging'
    inputs:
      SourceFolder: 'src/AngularProject'
      Contents: '**'
      TargetFolder: '$(Build.ArtifactStagingDirectory)/Website'

  - publish: '$(Build.ArtifactStagingDirectory)/Website'
    displayName: 'Publish pipeline artifact'
    artifact: ${{ parameters.ArtifactName }}